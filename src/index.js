// ======================================================// ğŸš€ Zen YouTube Coach Pro â€” Backend Ultra Premium 2025// Entry Point â€” index.js// ======================================================import express from "express";import cors from "cors";import dotenv from "dotenv";dotenv.config();const app = express();// ---------------------------------------------// Middleware// ---------------------------------------------app.use(express.json({ limit: "60mb" }));app.use(cors());/* ======================================================   âš ï¸ HEALTH ROUTE â€” CARICATA PRIMA DI TUTTO   (Impossibile che venga sovrascritta da altre routes)====================================================== */import healthRoute from "./routes/health.js";app.use("/health", healthRoute);app.use("/healthz", healthRoute);// ---------------------------------------------// IMPORT ALTRE ROUTES (DOPO HEALTH)// ---------------------------------------------import transcriptRoute from "./routes/transcript.js";import analyzeRoute from "./routes/analyze-transcript.js";import compareVideosRoute from "./routes/compare-videos.js";import trendDeepRoute from "./routes/trend-deepsearch.js";// ---------------------------------------------// USE ROUTES// ---------------------------------------------app.use("/transcript", transcriptRoute);app.use("/analyze", analyzeRoute);app.use("/compare-videos", compareVideosRoute);app.use("/trend-deepsearch", trendDeepRoute);import fs from "fs";import path from "path";app.get("/__debug_ls", (req, res) => {  const walk = (dir) => {    let results = [];    fs.readdirSync(dir).forEach((file) => {      file = path.join(dir, file);      const stat = fs.statSync(file);      if (stat && stat.isDirectory()) {        results.push({ folder: file, children: walk(file) });      } else {        results.push({ file });      }    });    return results;  };  try {    const tree = walk("./");    res.json(tree);  } catch (err) {    res.status(500).json({ error: err.message });  }});// Fallback globale per debuggingapp.get("*", (req, res) => {  res.status(404).json({    success: false,    route: req.originalUrl,    message: "Route not found"  });});// ---------------------------------------------// Render PORT Fix// ---------------------------------------------const PORT = process.env.PORT || 4000;const HOST = "0.0.0.0";// ---------------------------------------------// START// ---------------------------------------------app.listen(PORT, HOST, () => {  console.log("============================================");  console.log("ğŸ”¥ Zen YouTube Coach Pro â€” Backend avviato");  console.log(`ğŸŒ Ambiente: ${process.env.NODE_ENV || "development"}`);  console.log(`ğŸŒ Server attivo su: http://${HOST}:${PORT}`);  console.log("============================================");});