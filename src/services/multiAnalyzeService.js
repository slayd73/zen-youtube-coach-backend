// src/services/multiAnalyzeService.jsimport { callAI } from "./aiService.js";/** * Analisi multipla di più trascrizioni */export async function multiAnalyzeTranscripts(transcripts = []) {  const formatted = transcripts    .map((t, i) => `VIDEO ${i + 1}:\n"""\n${t}\n"""`)    .join("\n\n");  const prompt = `Sei "Zen YouTube Coach Pro", un analista superiore a VidIQ e TubeBuddy.Stai per analizzare MULTIPLE TRASCRIZIONI:${formatted}Rispondi SOLO in JSON nel formato:{  "summaries": [],  "common_topics": [],  "dominant_emotions": [],  "psychological_patterns": [],  "market_gaps": [],  "unique_opportunities": [],  "best_title_to_beat_all": "",  "best_hook_to_beat_all": "",  "super_script_blueprint": "",  "cta_final": ""}Linee guida:- Estrai temi e idee ricorrenti.- Identifica leve psicologiche usate dai creator.- Identifica gaps e opportunità non sfruttate.- Genera un HOOK unico basato sui pattern vincenti.- Genera un SUPER-SCRIPT sintetizzato da tutti.- Crea titolo e CTA vincenti.`;  const raw = await callAI(prompt);  try {    return JSON.parse(raw);  } catch (err) {    return { error: "JSON_PARSE_ERROR", raw };  }}