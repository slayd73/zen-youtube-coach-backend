// src/routes/improve.jsimport express from "express";import { callAI } from "../services/aiService.js";const router = express.Router();/** * Migliora titolo e descrizione YouTube * POST /improve * Body: { title: "...", description: "..." } */router.post("/", async (req, res) => {  try {    const { title, description } = req.body;    if (!title && !description) {      return res.status(400).json({ error: "Missing fields: provide title or description" });    }    const prompt = `Migliora questo titolo e descrizione YouTube mantenendoli efficaci per CTR e SEO. Rispondi SOLO JSON:{  "title": "",  "description": ""}Contenuti da migliorare:- Titolo: "${title || ""}"- Descrizione: "${description || ""}"`;    const raw = await callAI(prompt);    try {      const json = JSON.parse(raw);      return res.json(json);    } catch (e) {      return res.json({ raw, error: "JSON parse failed, but AI response received." });    }  } catch (err) {    console.error("Improve error:", err);    res.status(500).json({ error: "Improve processing failed" });  }});export default router;