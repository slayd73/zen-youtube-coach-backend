import express from "express";import {  extractChannelOverview,  extractAudienceInsights,  extractCommunicationStyle,  extractContentInsights,  extractStrategicOpportunities} from "../services/intelligenceService.js";import { getProfileByHandle, getDefaultProfile } from "../services/profileManager.js";const router = express.Router();router.post("/", async (req, res) => {  try {    const { handle } = req.body;    let channelProfile =      getProfileByHandle(handle) || getDefaultProfile();    if (channelProfile.handle === "@ZenSaluteBenessere") {      channelProfile.targetAges = ["Over 50", "Over 60", "Over 70"];    }    res.status(200).json({      overview: extractChannelOverview(channelProfile),      audience: extractAudienceInsights(channelProfile),      communication: extractCommunicationStyle(channelProfile),      content: extractContentInsights(channelProfile),      opportunities: extractStrategicOpportunities(channelProfile)    });  } catch (err) {    console.error("‚ùå /channel-intelligence ERROR:", err);    res.status(500).json({ error: "Internal Server Error" });  }});export default router;