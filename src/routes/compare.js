import express from "express";import { analyzeVideoAI } from "../services/intelligenceService.js";import { getVideoInfo } from "../services/youtubeService.js";const router = express.Router();router.post("/", async (req, res) => {  try {    const { videoUrlA, videoUrlB } = req.body;    if (!videoUrlA || !videoUrlB) {      return res.status(400).json({ error: "Missing videoUrlA or videoUrlB" });    }    // Dati YouTube    const dataA = await getVideoInfo(videoUrlA);    const dataB = await getVideoInfo(videoUrlB);    // Analisi AI    const aiA = await analyzeVideoAI(dataA);    const aiB = await analyzeVideoAI(dataB);    res.json({      A: { video: dataA.video, channel: dataA.channel, ai: aiA },      B: { video: dataB.video, channel: dataB.channel, ai: aiB },      winner: aiA.scores.retentionPotential > aiB.scores.retentionPotential ? "A" : "B"    });  } catch (err) {    console.error(err);    res.status(500).json({ error: "Compare error" });  }});export default router;